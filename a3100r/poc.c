#include<stdio.h>

int main(){
    char a2[]="";
    char v32[128]="";
    const char *Var = "whoami";// 可控变量
    sprintf(v32, "cat %s| grep hello", Var);//一条命令，传参给v32.实际命令为cat Var | grep v30
    getCmdStr(v32, "hello", 16);
    return 0;
}
int getCmdStr(char a1[], char a2[], int a3){
    FILE *fp;
    char buffer[80];
    fp = popen(a1, "r");
    fgets(buffer, sizeof(buffer), fp);
    printf("output:%s", buffer);
    pclose(fp);
}